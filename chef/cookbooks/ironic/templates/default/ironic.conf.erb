[DEFAULT]
enabled_drivers=<%= @drivers.join(',') %>
state_path=/var/lib/ironic
rootwrap_config=/etc/ironic/rootwrap.conf
my_ip=<%= @ironic_ip %>
debug=<%= @debug ? 'true' : 'false' %>
verbose=<%= @verbose ? 'true' : 'false' %>
log_dir=/var/log/ironic
rpc_response_timeout=60
rpc_backend=rabbit
control_exchange=ironic
[api]
host_ip=0.0.0.0
port=<%= @api_port %>
public_endpoint=<%= @public_endpoint %>
[conductor]
api_url=<%= @public_endpoint %>
[database]
connection=<%= @database_connection %>
max_pool_size=30
max_overflow=10
pool_timeout=30
[glance]
glance_host=<%= @glance_settings[:host] %>
glance_port=<%= @glance_settings[:port] %>
glance_protocol=<%= @glance_settings[:protocol] %>
glance_api_servers=<%= @glance_settings[:protocol] %>://<%= @glance_settings[:host] %>:<%= @glance_settings[:port] %>
auth_strategy=keystone
[keystone]
region_name=<%= @keystone_settings['endpoint_region'] %>
[keystone_authtoken]
auth_uri=<%= @keystone_settings['protocol'] %>://<%= @keystone_settings['public_url_host'] %>:<%= @keystone_settings['service_port'] %>/<%= @auth_version %>/
auth_version=<%= @auth_version %>
region_name=<%= @keystone_settings['endpoint_region'] %>
signing_dir=/var/cache/ironic/keystone-signing
identity_uri=<%= @keystone_settings['admin_auth_url'] %>
admin_user=<%= @keystone_settings['service_user'] %>
admin_password=<%= @keystone_settings['service_password'] %>
admin_tenant_name=<%= @keystone_settings['service_tenant'] %>
[neutron]
url=<%= @neutron_settings[:protocol] %>://<%= @neutron_settings[:host] %>:<%= @neutron_settings[:port] %>
auth_strategy=keystone
<% unless @ironic_net_id.empty? %>
cleaning_network_uuid=<%= @ironic_net_id %>
<% end %>
[oslo_concurrency]
lock_path=/var/run/ironic
[oslo_messaging_rabbit]
rabbit_host=<%= @rabbit_settings[:address] %>
rabbit_port=<%= @rabbit_settings[:port] %>
rabbit_userid=<%= @rabbit_settings[:user] %>
rabbit_password=<%= @rabbit_settings[:password] %>
rabbit_virtual_host=<%= @rabbit_settings[:vhost] %>
[pxe]
tftp_server=<%= @tftp_ip %>
