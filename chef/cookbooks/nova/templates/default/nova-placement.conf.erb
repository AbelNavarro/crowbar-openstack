[placement]
auth_type = password
www_authenticate_uri = <%= @keystone_settings['public_auth_url'] %>
auth_url = <%= @keystone_settings['internal_auth_url'] %>
region_name = <%= @keystone_settings['endpoint_region'] %>
project_name = <%= @keystone_settings['service_tenant'] %>
project_domain_name = <%= @keystone_settings["admin_domain"] %>
user_domain_name = <%= @keystone_settings['admin_domain'] %>
username = <%= @placement_service_user %>
password = <%= @placement_service_password %>
valid_interfaces = internal
insecure = <%= @placement_service_insecure %>

<% if @placement_database_connection -%>
[placement_database]
connection = <%= @placement_database_connection %>
<% end -%>

<% if @profiler_settings[:enabled] -%>
[profiler]
enabled = true
trace_sqlalchemy = <%= @profiler_settings[:trace_sqlalchemy] ? "true" : "false" %>
hmac_keys = <%= @profiler_settings[:hmac_keys].join(",") %>
connection_string = <%= @profiler_settings[:connection_string] %>
<% end -%>