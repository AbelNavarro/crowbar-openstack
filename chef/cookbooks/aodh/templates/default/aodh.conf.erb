[DEFAULT]
auth_strategy = keystone
evaluation_interval = <%= @alarm_threshold_evaluation_interval %>
debug = <%= @debug ? "true" : "false" %>
verbose = <%= @verbose ? "true" : "false" %>
log_dir = /var/log/aodh
[api]
port = <%= @bind_port %>
host = <%= @bind_host %>
workers = <%= [node["cpu"]["total"], 2, 4].sort[1] %>
[database]
connection = <%= @database_connection %>
[keystone_authtoken]
auth_uri = <%= @keystone_settings['public_auth_url'] %>
auth_version = <%= @keystone_settings['api_version_for_middleware'] %>
<% if @keystone_settings['insecure'] -%>
insecure = <%= @keystone_settings['insecure'] %>
<% end -%>
region_name = <%= @keystone_settings['endpoint_region'] %>
signing_dir = /var/cache/aodh/keystone-signing
identity_uri = <%= @keystone_settings['admin_auth_url'] %>
admin_user = <%= @keystone_settings['service_user'] %>
admin_password = <%= @keystone_settings['service_password'] %>
admin_tenant_name = <%= @keystone_settings['service_tenant'] %>
[oslo_messaging_rabbit]
rabbit_host = <%= @rabbit_settings[:address] %>
rabbit_port = <%= @rabbit_settings[:port] %>
rabbit_userid = <%= @rabbit_settings[:user] %>
rabbit_password = <%= @rabbit_settings[:password] %>
rabbit_virtual_host = <%= @rabbit_settings[:vhost] %>
[service_credentials]
region_name = <%= @keystone_settings['endpoint_region'] %>
interface = internalURL
auth_url = <%= @keystone_settings['internal_auth_url'] %>
project_name = <%= @keystone_settings['service_tenant'] %>
username = <%= @keystone_settings['service_user'] %>
password = <%= @keystone_settings['service_password'] %>
